<div align="center">
  <a href="https://github.com/canxin121">
    <img src="https://socialify.git.ci/canxin121/nonebot_poe_chat/image?description=1&amp;descriptionEditable=%E5%9F%BA%E4%BA%8Enonebot%E5%92%8Cplaywright%2C%E5%B0%86poe.com%E6%8E%A5%E5%85%A5qq%E8%BF%9B%E8%A1%8C%E5%A4%9A%E5%8A%9F%E8%83%BD%E7%9A%84%E4%BE%BF%E6%8D%B7%E4%BD%BF%E7%94%A8&amp;font=Rokkitt&amp;forks=1&amp;issues=1&amp;language=1&amp;logo=https://canxin121.github.io/docs/logo.png&amp;name=1&amp;owner=1&amp;pattern=CircuitBoard&amp;pulls=1&amp;stargazers=1&amp;theme=Auto" width="700" height="350">
  </a>
  <h1>nonebot_poe_chat</h1>
  <p><em>基于Nonebot和playwright，可以将poe.com接入qq</em></p>
</div>

<p align="center">
    <a href="https://pypi.python.org/pypi/nonebot-poe-chat">
    <img src="https://img.shields.io/pypi/v/nonebot-poe-chat" alt="pypi">
    </a>
    <img src="https://img.shields.io/pypi/pyversions/nonebot-poe-chat" alt="python">
    <img src="https://img.shields.io/pypi/dm/nonebot-poe-chat" alt="pypi">
    <br />
    <a href="https://onebot.dev/">
    <img src="https://img.shields.io/badge/OneBot-v11-black?style=social&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAIVBMVEUAAAAAAAADAwMHBwceHh4UFBQNDQ0ZGRkoKCgvLy8iIiLWSdWYAAAAAXRSTlMAQObYZgAAAQVJREFUSMftlM0RgjAQhV+0ATYK6i1Xb+iMd0qgBEqgBEuwBOxU2QDKsjvojQPvkJ/ZL5sXkgWrFirK4MibYUdE3OR2nEpuKz1/q8CdNxNQgthZCXYVLjyoDQftaKuniHHWRnPh2GCUetR2/9HsMAXyUT4/3UHwtQT2AggSCGKeSAsFnxBIOuAggdh3AKTL7pDuCyABcMb0aQP7aM4AnAbc/wHwA5D2wDHTTe56gIIOUA/4YYV2e1sg713PXdZJAuncdZMAGkAukU9OAn40O849+0ornPwT93rphWF0mgAbauUrEOthlX8Zu7P5A6kZyKCJy75hhw1Mgr9RAUvX7A3csGqZegEdniCx30c3agAAAABJRU5ErkJggg==" alt="onebot">
    <a href="https://github.com/canxin121/nonebot_poe_chat/releases/">
    <img src="https://img.shields.io/github/last-commit/canxin121/nonebot_poe_chat" alt="github">
    </a>
</p>
<div align="left">

---

[![残心小站-文档库](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/cx.png )](https://canxin121.github.io/docs/docs/nonebot-poe-chat.html )

> 详细教程（必看，否则不会使用） 点击链接跳转👇 点击图片跳转☝️
>
## [残心小站-文档库](https://canxin121.github.io/docs/docs/nonebot-poe-chat.html )

> 用户交流群:[610948446](http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=KHGqjjbiz6fpRr-W2X9SugTXThKFiprJ&authKey=LhpClaGtc4%2Ff3EL7f4IIIt7F94vLHJj4HSS8c2YCE55nRBRBtftzla%2Bgj7pa0fWX&noverify=0&group_code=610948446
)
---

## 功能特性

- 可以使用gpt3.5和claude两种模型，支持自定义预设和本地预设  
- 可以使用neeva ai搜索引擎  
- 有共享的机器人供多人共同使用(仅支持命令来对话，不支持以下特性)  
- 有用户隔离的个人机器人使用,支持下面两个功能  
- > 可以直接回复机器人给你的回答来继续对话，无需命令  
- > 可以使用数字索引来使用建议回复  
- > 可以直接用机器人名称作命令，向指定机器人询问  
- > 可以回复特定字段来直接清除对应机器人的对话历史
- 有完备的等待队列，又支持每次几名用户同时请求  
- 所有分步操作都可以用 取消 或 算了来终止,并且支持错误重输  
- 如果未创建机器人，对话命令将默认创建gpt3.5,而默认预设可以由管理员来切换  
- 机器人的回答会以回复形式发送，支持发送带二维码的图片格式和相应的链接  
- 机器人的给普通用户的时效性回复都会自动撤回，防止刷屏  
- 插件储存数据放置在./data/poe_chat中  
- 支持填写代理地址http,https,socks，及其username,password  

## 示例

| Image 1 | Image 2 |
|:-------:|:-------:|
| ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(1).png) | ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(2).png) |
| Image 3 | Image 4 |
| ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(3).png) | ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(4).png) |
| Image 5 | Image 6 |
| ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(5).png) | ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(6).png) |
| Image 7 | Image 8 |
| ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(7).png) | ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(8).png) |
| Image 9 | Image 10 |
| ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(9).png) | ![](https://github.com/canxin121/nonebot_poe_chat/blob/main/resource/demo(10).png) |

## 更新

- 2023/5/4 v1.1.9  
    1.修复poe更新造成的无法创建bot  
- 2023/5/2 ~v1.1.7~v1.1.8:  
    1.增加GPT4和CLAUDE+的使用命令  
    2.增加能使用GPT4和CLAUDE+的配置项poe_accesslist,只有list中的qq号和群号可以使用（不填默认poe管理员）  
- 2023/5/1 v1.1.6:  
    1.完善预设管理的逻辑  
- 2023/5/1 v1.1.5:  
    1.修复回复失败后建议回复被清空的bug  
- 2023/4/30 v1.1.4:  
    1.修复配置失效bug  
    2.优化回复逻辑，增加字数限制配置，未设置是否以图片形式回复的情况下，在字数小于指定字数时直接回复，大于时转化为图片回复  
    3.重构一些代码  
- 2023/4/30 v1.1.3:  
    1.切换机器人和删除机器人支持直接命令 + 机器人名称  
    2.增加黑白名单配置，默认黑名单模式，默认无黑名单用户或群  
    3.支持直接使用'/' + 用户自己的机器人名称来询问特定机器人，并支持直接回复来继续对话  
    4.在所有通过回复来继续对话中，支持使用特定字段来清空对话历史（见详细文档）  
- 2023/4/28 v1.1.2:  
    1.修复没有跟随命令发送询问内容时的报错（直接pass掉）  
    2.增加黑名单配置  
- 2023/4/27 v1.1.1:  
    1.支持管理员切换自动创建的预设  
    2.支持在配置中开启和关闭建议回复和图片中二维码，详情看上文 配置  
- 2023/4/26 v1.0.9:  
    1.修复cookie致命bug  
    2./pl登录可能暂时不好用了，因为poe在检测机器人登录，请自行填写ck  
    3.新增neevaAi搜索功能  
    4.新增共享的gpt和claude聊天  
    5.修复自定义预设中间有空格造成错误的bug  
    6.补上了创建bot的代码的lock  
    7.恢复正常的suggest，并修复了一个由suggest引起的死循环bug  
- 2023/4/26 v1.0.8:  
    1.单例模式重构，只创建一个context，稍微减轻性能消耗  
    2.暂时修复poe官网suggest消失造成死循环的bug  
